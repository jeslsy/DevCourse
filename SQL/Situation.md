## ppt_03

### < 문제 상황 >
#### 1️⃣ 가장 많이 사용된 채널은?
#### 2️⃣ 가장 많은 세션을 만들어낸 사용자 id는 무엇인가?
#### 3️⃣ 월별 유니크한 사용자 수

<br>

### < 항상 시도해봐야하는 데이터 품질 확인 방법들 - 예시 >
1️⃣ 중복된 레코드들 체크하기
2️⃣ 최근 데이터의 존재 여부 체크하기
3️⃣ Primary key uniqueness
4️⃣ 값이 비어있는 컬럼들이 있는지 체크하기

<br>

### < 숙제 #1 >
**채널별 월별 매출액 테이블 만들기**


<br>

## ppt_04 
> 숙제 #1 솔루션

### < 채널별 월 매출액 테이블 만들기 >
- 1. 먼저 유일한 사용자 수부터 세보자
  - 복잡한 join 시에 먼저 join 전략 수립하기
- 2. session_transaction 테이블 추가 
- 3. piadUser 추가하기
- 4. conversionRate 추가

<br>

### < 기타 join 문제 풀이 >
#### 가상 이커머스 사이트의 인기 상품 찾기 (주문 수량/금액 기준)
#### 1️⃣ 환불되지 않은 주문들만 봤을 때 주문 수량(quantity) 기준으로 가장 많이 주문된 top5 상품의 이름과 총 주문수량을 찾아보기
#### 2️⃣ 환불되지 않은 주문들만 봤을 때 주문금액 기준으로 가장 많이 주문된 top5 상품의 이름과 총 주문금액 찾기

<br>

### < 추가 숙제 >
#### 1️. 사용자별로 처음 채널과 마지막 채널 알아내기
- 1️⃣ CTE를 빌딩블록으로 사용
- 2️⃣ JOIN 방식
- 3️⃣ GROUP BY 방식
- 4️⃣ FIRST_VALUE/LAST_VALUE 

#### 2️. Gross Revenue가 가장 큰 UserID 10개 찾기
- 1️⃣ GROUP BY
- 2️⃣ SUM OVER

#### 3️. raw_data.nps 테이블을 바탕으로 월별 NPS 계산


